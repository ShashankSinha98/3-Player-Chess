<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1241px" preserveAspectRatio="none" style="width:883px;height:1241px;background:#FFFFFF;" version="1.1" viewBox="0 0 883 1241" width="883px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1125.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="108" y="69.9609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="222.5" y="1103.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="358" y="125.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="186.3672"/><rect fill="#FFFFFF" height="217.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="247.0703"/><rect fill="#FFFFFF" height="401.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="510.7188"/><rect fill="#FFFFFF" height="230.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="450" y="592.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="1042.6953"/><rect fill="#FFFFFF" height="156.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="277.4219"/><rect fill="#FFFFFF" height="195.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="627.7734"/><rect fill="#FFFFFF" height="41.5273" style="stroke:#181818;stroke-width:1.0;" width="10" x="754" y="362.3008"/><rect fill="#FFFFFF" height="60.8789" style="stroke:#181818;stroke-width:1.0;" width="10" x="754" y="712.6523"/><rect fill="none" height="842.3281" style="stroke:#000000;stroke-width:1.5;" width="814" x="62" y="84.9609"/><rect fill="none" height="155.2422" style="stroke:#000000;stroke-width:1.5;" width="424" x="62" y="1001.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="113" x2="113" y1="37.6094" y2="1204.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="227" x2="227" y1="37.6094" y2="1204.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="363" x2="363" y1="37.6094" y2="1204.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="450" x2="450" y1="37.6094" y2="1204.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="608.5" x2="608.5" y1="37.6094" y2="1204.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="759" x2="759" y1="37.6094" y2="1204.5859"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="72" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="79" y="26.5332">GameMain</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="72" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="79" y="1225.1191">GameMain</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="164" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="171" y="26.5332">OnClickResponse</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="164" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="171" y="1225.1191">OnClickResponse</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="312" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="319" y="26.5332">BoardAdapter</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="312" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="319" y="1225.1191">BoardAdapter</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="424" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="431" y="26.5332">Board</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="424" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="431" y="1225.1191">Board</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="568.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="575.5" y="26.5332">BasePiece</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="568.5" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="575.5" y="1225.1191">BasePiece</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="710" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="717" y="26.5332">MovementUtil</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="710" y="1203.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="717" y="1225.1191">MovementUtil</text><rect fill="#FFFFFF" height="1125.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="108" y="69.9609"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="222.5" y="1103.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="358" y="125.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="186.3672"/><rect fill="#FFFFFF" height="217.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="247.0703"/><rect fill="#FFFFFF" height="401.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="510.7188"/><rect fill="#FFFFFF" height="230.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="450" y="592.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="445" y="1042.6953"/><rect fill="#FFFFFF" height="156.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="277.4219"/><rect fill="#FFFFFF" height="195.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="604" y="627.7734"/><rect fill="#FFFFFF" height="41.5273" style="stroke:#181818;stroke-width:1.0;" width="10" x="754" y="362.3008"/><rect fill="#FFFFFF" height="60.8789" style="stroke:#181818;stroke-width:1.0;" width="10" x="754" y="712.6523"/><polygon fill="#181818" points="96,65.9609,106,69.9609,96,73.9609,100,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="102" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="7" y="65.1045">OnClick</text><path d="M62,84.9609 L123,84.9609 L123,93.3125 L113,103.3125 L62,103.3125 L62,84.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="842.3281" style="stroke:#000000;stroke-width:1.5;" width="814" x="62" y="84.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="77" y="99.4561">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="138" y="98.3799">[first click]</text><polygon fill="#181818" points="346,121.6641,356,125.6641,346,129.6641,350,125.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="352" y1="125.6641" y2="125.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="125" y="120.8076">calculatePolygonID</text><polygon fill="#181818" points="129,152.0156,119,156.0156,129,160.0156,125,156.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="362" y1="156.0156" y2="156.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="135" y="151.1592">polygon position</text><polygon fill="#181818" points="433,182.3672,443,186.3672,433,190.3672,437,186.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="439" y1="186.3672" y2="186.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="125" y="181.5107">isCurrentPlayersPiece</text><polygon fill="#181818" points="129,212.7188,119,216.7188,129,220.7188,125,216.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="449" y1="216.7188" y2="216.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="135" y="211.8623">return true/ false</text><polygon fill="#181818" points="433,243.0703,443,247.0703,433,251.0703,437,247.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="439" y1="247.0703" y2="247.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="125" y="242.2139">getPossibleMoves</text><polygon fill="#181818" points="592,273.4219,602,277.4219,592,281.4219,596,277.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="598" y1="277.4219" y2="277.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="462" y="272.5654">getHighlightPolygons</text><line style="stroke:#181818;stroke-width:1.0;" x1="614" x2="656" y1="307.7734" y2="307.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="656" x2="656" y1="307.7734" y2="320.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="656" y1="320.7734" y2="320.7734"/><polygon fill="#181818" points="625,316.7734,615,320.7734,625,324.7734,621,320.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="621" y="302.917">getWallPieceMapping</text><polygon fill="#181818" points="742,358.3008,752,362.3008,742,366.3008,746,362.3008" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="614" x2="748" y1="362.3008" y2="362.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="621" y="357.4443">stepOrNull</text><path d="M769,333.7734 L769,375.7734 L871,375.7734 L871,343.7734 L861,333.7734 L769,333.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M861,333.7734 L861,343.7734 L871,343.7734 L861,333.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="775" y="352.2686">checks for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="775" y="368.6201">each direction</text><polygon fill="#181818" points="625,399.8281,615,403.8281,625,407.8281,621,403.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="619" x2="758" y1="403.8281" y2="403.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="631" y="398.9717">Position</text><polygon fill="#181818" points="466,430.1797,456,434.1797,466,438.1797,462,434.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="608" y1="434.1797" y2="434.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="472" y="429.3232">List&lt;Position&gt;</text><polygon fill="#181818" points="129,460.5313,119,464.5313,129,468.5313,125,464.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="449" y1="464.5313" y2="464.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="135" y="459.6748">List&lt;Position&gt; highlight polygons</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="876" y1="473.5313" y2="473.5313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="67" y="484.9502">[second click]</text><polygon fill="#181818" points="433,506.7188,443,510.7188,433,514.7188,437,510.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="439" y1="510.7188" y2="510.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="125" y="505.8623">move</text><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="497" y1="541.0703" y2="541.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="497" y1="541.0703" y2="554.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="456" x2="497" y1="554.0703" y2="554.0703"/><polygon fill="#181818" points="466,550.0703,456,554.0703,466,558.0703,462,554.0703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="462" y="536.2139">isLegalMove</text><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="502" y1="579.4219" y2="579.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="579.4219" y2="592.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="592.4219" y2="592.4219"/><polygon fill="#181818" points="471,588.4219,461,592.4219,471,596.4219,467,592.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="467" y="574.5654">isCheck</text><polygon fill="#181818" points="592,623.7734,602,627.7734,592,631.7734,596,627.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="598" y1="627.7734" y2="627.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="467" y="622.917">getHighlightPolygons</text><line style="stroke:#181818;stroke-width:1.0;" x1="614" x2="656" y1="658.125" y2="658.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="656" x2="656" y1="658.125" y2="671.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="656" y1="671.125" y2="671.125"/><polygon fill="#181818" points="625,667.125,615,671.125,625,675.125,621,671.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="621" y="653.2686">getWallPieceMapping</text><polygon fill="#181818" points="742,708.6523,752,712.6523,742,716.6523,746,712.6523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="614" x2="748" y1="712.6523" y2="712.6523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="621" y="707.7959">stepOrNull</text><path d="M769,684.125 L769,726.125 L871,726.125 L871,694.125 L861,684.125 L769,684.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M861,684.125 L861,694.125 L871,694.125 L861,684.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="775" y="702.6201">checks for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="775" y="718.9717">each direction</text><polygon fill="#181818" points="625,769.5313,615,773.5313,625,777.5313,621,773.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="619" x2="758" y1="773.5313" y2="773.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="631" y="768.6748">Position</text><path d="M474,736.8281 L474,795.8281 L599,795.8281 L599,746.8281 L589,736.8281 L474,736.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M589,736.8281 L589,746.8281 L599,746.8281 L589,736.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="480" y="755.3232">checks if king</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="480" y="771.6748">is present in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="480" y="788.0264">highlight polygons</text><polygon fill="#181818" points="466,819.2344,456,823.2344,466,827.2344,462,823.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="608" y1="823.2344" y2="823.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="472" y="818.3779">List&lt;Position&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="497" y1="858.2617" y2="858.2617"/><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="497" y1="858.2617" y2="871.2617"/><line style="stroke:#181818;stroke-width:1.0;" x1="456" x2="497" y1="871.2617" y2="871.2617"/><polygon fill="#181818" points="466,867.2617,456,871.2617,466,875.2617,462,871.2617" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="462" y="853.4053">isCheckAfterLegalMove</text><path d="M609,836.2344 L609,878.2344 L758,878.2344 L758,846.2344 L748,836.2344 L609,836.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M748,836.2344 L748,846.2344 L758,846.2344 L748,836.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="615" y="854.7295">internally use isCheck</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="619" y="871.0811">returns nothing</text><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="497" y1="911.2891" y2="911.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="497" y1="911.2891" y2="924.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="497" y1="924.2891" y2="924.2891"/><polygon fill="#181818" points="460,920.2891,450,924.2891,460,928.2891,456,924.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="462" y="906.4326">isCheckMate</text><polygon fill="#181818" points="351,952.6406,361,956.6406,351,960.6406,355,956.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="357" y1="956.6406" y2="956.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="125" y="951.7842">convertHighlightPolygonsToViewBoard</text><polygon fill="#181818" points="129,982.9922,119,986.9922,129,990.9922,125,986.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="362" y1="986.9922" y2="986.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="135" y="982.1357">List&lt;String&gt; highlight Polygons</text><path d="M62,1001.9922 L123,1001.9922 L123,1010.3438 L113,1020.3438 L62,1020.3438 L62,1001.9922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.2422" style="stroke:#000000;stroke-width:1.5;" width="424" x="62" y="1001.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="77" y="1016.4873">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="68" x="138" y="1015.4111">[Game over]</text><polygon fill="#181818" points="433,1038.6953,443,1042.6953,433,1046.6953,437,1042.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="439" y1="1042.6953" y2="1042.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="125" y="1037.8389">isGameOver</text><polygon fill="#181818" points="129,1069.0469,119,1073.0469,129,1077.0469,125,1073.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123" x2="449" y1="1073.0469" y2="1073.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="135" y="1068.1904">game status</text><polygon fill="#181818" points="210.5,1099.3984,220.5,1103.3984,210.5,1107.3984,214.5,1103.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="118" x2="216.5" y1="1103.3984" y2="1103.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="125" y="1098.542">setGameOver</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62" x2="486" y1="1142.3984" y2="1142.3984"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="46" x="67" y="1153.8174">[Not yet]</text><polygon fill="#181818" points="11,1182.5859,1,1186.5859,11,1190.5859,7,1186.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="107" y1="1186.5859" y2="1186.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="17" y="1181.7295">click Response</text><!--MD5=[fac789f72ef1ea2bbc664271d6d105d2]
@startuml
participant GameMain
participant OnClickResponse
->GameMain: OnClick
activate GameMain
alt first click
GameMain->BoardAdapter: calculatePolygonID
activate BoardAdapter
BoardAdapter- ->GameMain: polygon position
deactivate BoardAdapter
GameMain->Board: isCurrentPlayersPiece
activate Board
Board- ->GameMain: return true/ false
deactivate Board
GameMain->Board: getPossibleMoves
activate Board
Board->BasePiece: getHighlightPolygons
activate BasePiece
BasePiece->BasePiece: getWallPieceMapping
BasePiece->MovementUtil: stepOrNull
note right: checks for \neach direction
activate MovementUtil
BasePiece<- -MovementUtil: Position
deactivate MovementUtil
Board<- -BasePiece: List<Position>
deactivate BasePiece
GameMain<- -Board: List<Position> highlight polygons
deactivate Board
else second click
GameMain->Board: move
activate Board
Board->Board: isLegalMove
Board->Board: isCheck
activate Board
Board->BasePiece: getHighlightPolygons
activate BasePiece
BasePiece->BasePiece: getWallPieceMapping
BasePiece->MovementUtil: stepOrNull
note right: checks for \neach direction
activate MovementUtil
BasePiece<- -MovementUtil: Position
deactivate MovementUtil
note left: checks if king \nis present in \nhighlight polygons
Board<- -BasePiece: List<Position>
deactivate Board
deactivate BasePiece
Board->Board: isCheckAfterLegalMove
note right: internally use isCheck\n returns nothing
Board->Board: isCheckMate
deactivate Board
end
GameMain->BoardAdapter: convertHighlightPolygonsToViewBoard
GameMain<- -BoardAdapter: List<String> highlight Polygons
alt Game over
GameMain->Board: isGameOver
activate Board
GameMain<- -Board: game status
deactivate Board
GameMain->OnClickResponse: setGameOver
activate OnClickResponse
deactivate OnClickResponse
else Not yet
end
<- -GameMain: click Response
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>